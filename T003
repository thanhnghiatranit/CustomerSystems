<%@page import="java.util.List"%>
<%@page import="fjs.cs.dao.MSTCUSTOMER"%>
<%@page import="java.util.ArrayList"%>
<%@page import="fjs.cs.dao.MSTCUSTOMER_DAO"%>
<%@ page language="java" contentType="text/html; charset=ISO-8859-1"
	pageEncoding="ISO-8859-1"%>
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>Insert title here</title>
</head>
<body>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<script type="text/javascript" src="js/error.js"></script>
<title>T003_Edit</title>
</head>
<body style="background: #66ffff">

	<div class="container">
		<div class="panel panel-default">
			<div class="panel-heading">

				<h2 style="color: red;">Tranning</h2>
				<hr>
				<p>Login > Search Customer > Edit</p>
				<form class="form-group" action="Login" method="post" name="myform">
					<div class="form-group">
						<div class="col-sm">
							Welcome:<%=session.getAttribute("txtUserID")%>
						</div>

						<input type="hidden" id="mode" name="mode" value="logout">
						<input type="submit" value="Logout"><br> <input
							class="form-control input-sm"
							style="background: blue; margin-bottom: 20px"></input>

					</div>
				</form>
				<center>
					<label name="lblErrorMessage" id="lblErrorMessage"></label>
				</center>
			</div>
			<div class="panel-body">
				<%
					String id = request.getParameter("id") != null ? request
							.getParameter("id") : "";
					String mode = request.getParameter("mode");
					MSTCUSTOMER_DAO dao = new MSTCUSTOMER_DAO();
					List<MSTCUSTOMER> list = new ArrayList<MSTCUSTOMER>();
					if (id != "") {
						list = dao.getListCustomerByID(id);
					}
					
					MSTCUSTOMER customer = list.size() > 0 ? list.get(0) : null;
					String cusname="";
					String cussex="";
					String cusbirthday="";
					String cusemail="";
					String cusaddress="";
					if (customer != null) {
						 cusname=customer.getCustomer_Name()!=null?customer.getCustomer_Name(): "";
						 cussex=customer.getSex()!=null?customer.getSex():"";
						 cusbirthday=customer.getBirthday()!=null?customer.getBirthday():"";
						 cusemail=customer.getEmail()!=null?customer.getEmail():"";
						 cusaddress=customer.getAddress()!=null?customer.getAddress():"";
				%>
				<form action="Edit" method="post" style="text-align: center"
					id="myform">
					<div <%=mode.equals("view") ? "" : "hidden"%> class="row">
						<div class="form-group">
							<label>Customer Id</label> <input id="txtCustomer_Id" disabled
								name="txtCustomer_Id" style="margin-left: 22px" type="text"
								value="<%=mode.equals("view") ? customer.getCustomer_ID() : ""%>" />
						</div>
						<div class="form-group" style="margin-top: 10px;">
							<label>Customer Name</label> <input id="txtCustomer_name"
								name="txtCustomer_name"
								value="<%=mode.equals("view")?cusname:""%>" />
						</div>
						<div class="form-group" style="margin-top: 10px;">
							<label>Sex</label> <select id="txtSex" name="txtSex" style="">
								<option value="<%=customer.getSex()%>" selected="selected"><%=mode.equals("view") ? cussex: ""%></option>

							</select>
						</div>
						<div class="form-group" style="margin-top: 10px;">
							<label>Birthday</label> <input id="txtBirthday"
								style="margin-left: 50px" name="txtBirthday"
								value="<%=mode.equals("view") ? cusbirthday : ""%>" />
						</div>
						<div class="form-group" style="margin-top: 10px;">
							<label>Email</label> <input id="txtEmail"
								style="margin-left: 70px" name="txtEmail" type="email"
								value="<%=mode.equals("view") ? cusemail : ""%>" />
						</div>
						<div class="form-group" style="margin-top: 10px;">
							<label>Address</label> <input id="txtAddress"
								style="margin-left: 55px" name="txtAddress"
								value="<%=mode.equals("view") ? cusaddress : ""%>" />
						</div>

					</div>

					<div class="form-group">
						<input name="mode" hidden id="mode" value="save"> <input
							type="submit" value="Save" class="btn btn-default"
							style="margin-top: 20px" /> <input type="button"
							onclick="EditClear()" value="Clear" class="btn btn-default"
							style="margin-top: 20px; margin-left: 150px" />
					</div>
				</form>
				<%
					}
				%>
			</div>
</body>
</html>
